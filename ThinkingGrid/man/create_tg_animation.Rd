% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plot_tg.R
\name{create_tg_animation}
\alias{create_tg_animation}
\title{Create Animated Thinking Grid Visualizations}
\usage{
create_tg_animation(
  survey_results,
  dc_column = "Deliberate.Constraints",
  ac_column = "Automatic.Constraints",
  condition_column = NULL,
  type = "depth",
  proportion_type = "overall",
  colorer = NULL,
  palette = "RdYlBu",
  zero_color = "#FFFFFF",
  gradient_scaling = "linear",
  enhanced_threshold_pct = 50,
  enhanced_expansion_factor = 1.5,
  x_label = "Directedness",
  y_label = "Stickiness",
  max_legend = NULL,
  min_legend = NULL,
  plot_title = NULL,
  legend_title = NULL,
  plot_subtitle = NULL,
  filename = "tg_animation.gif",
  duration = 1,
  width = 800,
  height = 800,
  sorted_conditions = NULL,
  subset_condition = NULL
)
}
\arguments{
\item{survey_results}{Data frame containing survey results with constraint response columns.}

\item{dc_column}{Name of deliberate constraints column (default: "Deliberate.Constraints").}

\item{ac_column}{Name of automatic constraints column (default: "Automatic.Constraints").}

\item{condition_column}{Column name containing conditions for animation frames. Each unique value becomes one frame.}

\item{type}{Type of visualization (default: "depth"). See plot_tg for options.}

\item{proportion_type}{Currently only "overall" is supported for animations.}

\item{colorer}{Custom colorer function. If NULL, uses default based on other parameters.}

\item{palette}{Color palette (default: "RdYlBu"). See plot_tg for options.}

\item{zero_color}{Color for zero values (default: "#FFFFFF").}

\item{gradient_scaling}{Scaling method: "linear" (default) or "enhanced".}

\item{enhanced_threshold_pct}{Enhanced scaling threshold percentage (default: 50).}

\item{enhanced_expansion_factor}{Enhanced scaling expansion factor (default: 1.5).}

\item{x_label}{X-axis label (default: "Directedness").}

\item{y_label}{Y-axis label (default: "Stickiness").}

\item{max_legend}{Maximum legend value. If NULL, calculated from all conditions.}

\item{min_legend}{Minimum legend value. If NULL, calculated from all conditions.}

\item{plot_title}{Main title appearing on all frames.}

\item{legend_title}{Legend title.}

\item{plot_subtitle}{Subtitle(s). Can be single string (same subtitle for all frames) or vector (one subtitle per condition in same order as sorted_conditions if provided).}

\item{filename}{Output GIF filename (default: "tg_animation.gif").}

\item{duration}{Duration of each frame in seconds (default: 1).}

\item{width}{GIF width in pixels (default: 800).}

\item{height}{GIF height in pixels (default: 800).}

\item{sorted_conditions}{Vector specifying frame order. Must contain all unique values from condition_column. If NULL, numeric conditions are sorted in ascending order and character/factor conditions are in random order (with warning).}

\item{subset_condition}{R expression string for subsetting data before analysis. Applied before splitting by conditions.}
}
\value{
Invisibly returns list of ggplot objects (one per frame). The GIF file is saved to disk.
}
\description{
Generate animated GIF showing Thinking Grid plots across different conditions or time points.
}
\details{
The function creates one frame per unique value in condition_column. All frames use the same legend scale (calculated from all conditions) to ensure comparability across frames. Requires the 'gifski' package for GIF creation. Will prompt to install if missing.
}
\examples{
# Basic animation across time points
create_tg_animation(survey_data, 
                    condition_column = "time_point",
                    filename = "thinking_grid_over_time.gif")

# Enhanced scaling for small differences
create_tg_animation(survey_data,
                    condition_column = "week",
                    gradient_scaling = "enhanced",
                    enhanced_threshold_pct = 40,
                    enhanced_expansion_factor = 2.0,
                    subset_condition = "completed_training == TRUE")

}
